@{
  Layout = "_Layout";
}

@using RecipeBox.Models;

<div class="recipeIndexLayout">
  <h1 class="main-title">Welcome to Best Recipes!</h1>

  @if (User.Identity.IsAuthenticated)
  {
    <h2>Recipes for @ViewBag.UserName!</h2>
    @if (Model.Count == 0)
    {
      <h3>No recipes have been added yet!</h3>
    } 
      @foreach (Recipe recipe in Model)
      {
        <h3 class="recipe-list">@Html.ActionLink(@recipe.Name, "Details", "Recipes", new { id = @recipe.RecipeId})</h3>
      }
  }
  else
  {
    <h3>Recipes</h3>
    <p>Please @Html.ActionLink("log in", "LogIn", "Account") to view or manage your recipes.</p>
  }

  <div class="recipe-links">
    <span>@Html.ActionLink(".Manage recipes", "Index", "Recipes")</span> 
    <span>@Html.ActionLink(".Manage tags", "Index", "Tags")</span>
    <span>@Html.ActionLink(".Create or manage an account", "Index", "Account")</span>
  </div>
</div>
